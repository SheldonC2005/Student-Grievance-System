{
  "abi": [
    {
      "inputs": [],
      "stateMutability": "nonpayable",
      "type": "constructor"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "uint256",
          "name": "blockId",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "bytes32",
          "name": "summaryHash",
          "type": "bytes32"
        },
        {
          "indexed": false,
          "internalType": "uint32",
          "name": "totalComplaints",
          "type": "uint32"
        }
      ],
      "name": "BlockSummaryCreated",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "uint256",
          "name": "complaintId",
          "type": "uint256"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "student",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "bytes32",
          "name": "ipfsHash",
          "type": "bytes32"
        },
        {
          "indexed": false,
          "internalType": "uint8",
          "name": "priority",
          "type": "uint8"
        },
        {
          "indexed": false,
          "internalType": "uint16",
          "name": "category",
          "type": "uint16"
        }
      ],
      "name": "ComplaintSubmitted",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "uint256",
          "name": "complaintId",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "uint8",
          "name": "oldStatus",
          "type": "uint8"
        },
        {
          "indexed": false,
          "internalType": "uint8",
          "name": "newStatus",
          "type": "uint8"
        },
        {
          "indexed": false,
          "internalType": "address",
          "name": "updatedBy",
          "type": "address"
        }
      ],
      "name": "StatusUpdated",
      "type": "event"
    },
    {
      "inputs": [],
      "name": "admin",
      "outputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "name": "blockSummaries",
      "outputs": [
        {
          "internalType": "bytes32",
          "name": "summaryHash",
          "type": "bytes32"
        },
        {
          "internalType": "uint32",
          "name": "timestamp",
          "type": "uint32"
        },
        {
          "internalType": "uint32",
          "name": "totalComplaints",
          "type": "uint32"
        },
        {
          "internalType": "uint16",
          "name": "pendingCount",
          "type": "uint16"
        },
        {
          "internalType": "uint16",
          "name": "resolvedCount",
          "type": "uint16"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "name": "complaints",
      "outputs": [
        {
          "internalType": "bytes32",
          "name": "ipfsHash",
          "type": "bytes32"
        },
        {
          "internalType": "address",
          "name": "student",
          "type": "address"
        },
        {
          "internalType": "uint32",
          "name": "timestamp",
          "type": "uint32"
        },
        {
          "internalType": "uint8",
          "name": "priority",
          "type": "uint8"
        },
        {
          "internalType": "uint8",
          "name": "status",
          "type": "uint8"
        },
        {
          "internalType": "uint16",
          "name": "category",
          "type": "uint16"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "_blockId",
          "type": "uint256"
        }
      ],
      "name": "getBlockSummary",
      "outputs": [
        {
          "components": [
            {
              "internalType": "bytes32",
              "name": "summaryHash",
              "type": "bytes32"
            },
            {
              "internalType": "uint32",
              "name": "timestamp",
              "type": "uint32"
            },
            {
              "internalType": "uint32",
              "name": "totalComplaints",
              "type": "uint32"
            },
            {
              "internalType": "uint16",
              "name": "pendingCount",
              "type": "uint16"
            },
            {
              "internalType": "uint16",
              "name": "resolvedCount",
              "type": "uint16"
            }
          ],
          "internalType": "struct ComplaintRegistry.BlockSummary",
          "name": "",
          "type": "tuple"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "_complaintId",
          "type": "uint256"
        }
      ],
      "name": "getComplaint",
      "outputs": [
        {
          "components": [
            {
              "internalType": "bytes32",
              "name": "ipfsHash",
              "type": "bytes32"
            },
            {
              "internalType": "address",
              "name": "student",
              "type": "address"
            },
            {
              "internalType": "uint32",
              "name": "timestamp",
              "type": "uint32"
            },
            {
              "internalType": "uint8",
              "name": "priority",
              "type": "uint8"
            },
            {
              "internalType": "uint8",
              "name": "status",
              "type": "uint8"
            },
            {
              "internalType": "uint16",
              "name": "category",
              "type": "uint16"
            }
          ],
          "internalType": "struct ComplaintRegistry.Complaint",
          "name": "",
          "type": "tuple"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "_start",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "_end",
          "type": "uint256"
        }
      ],
      "name": "getComplaintsInRange",
      "outputs": [
        {
          "internalType": "uint256[]",
          "name": "",
          "type": "uint256[]"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "getContractStats",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "totalComplaints",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "totalBlocks",
          "type": "uint256"
        },
        {
          "internalType": "address",
          "name": "contractAdmin",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "getLatestBlockSummary",
      "outputs": [
        {
          "components": [
            {
              "internalType": "bytes32",
              "name": "summaryHash",
              "type": "bytes32"
            },
            {
              "internalType": "uint32",
              "name": "timestamp",
              "type": "uint32"
            },
            {
              "internalType": "uint32",
              "name": "totalComplaints",
              "type": "uint32"
            },
            {
              "internalType": "uint16",
              "name": "pendingCount",
              "type": "uint16"
            },
            {
              "internalType": "uint16",
              "name": "resolvedCount",
              "type": "uint16"
            }
          ],
          "internalType": "struct ComplaintRegistry.BlockSummary",
          "name": "",
          "type": "tuple"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "getStatusCounts",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "pending",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "inReview",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "resolved",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "rejected",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "closed",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "_student",
          "type": "address"
        }
      ],
      "name": "getStudentComplaints",
      "outputs": [
        {
          "internalType": "uint256[]",
          "name": "",
          "type": "uint256[]"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "getTotalComplaints",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "nextBlockId",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "nextComplaintId",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint8",
          "name": "",
          "type": "uint8"
        }
      ],
      "name": "statusCounts",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "name": "studentComplaints",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "bytes32",
          "name": "_ipfsHash",
          "type": "bytes32"
        },
        {
          "internalType": "uint8",
          "name": "_priority",
          "type": "uint8"
        },
        {
          "internalType": "uint16",
          "name": "_category",
          "type": "uint16"
        }
      ],
      "name": "submitComplaint",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "_newAdmin",
          "type": "address"
        }
      ],
      "name": "transferAdmin",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "_complaintId",
          "type": "uint256"
        },
        {
          "internalType": "uint8",
          "name": "_newStatus",
          "type": "uint8"
        }
      ],
      "name": "updateComplaintStatus",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    }
  ],
  "bytecode": "0x6080604052348015600f57600080fd5b50600080546001600160a01b0319163317815560018080556002555b60058160ff16101560505760ff8116600090815260066020526040812055600101602b565b5061158d806100606000396000f3fe608060405234801561001057600080fd5b50600436106101165760003560e01c806393b94c88116100a2578063dee8ae4311610071578063dee8ae43146103d3578063dfe6b5d61461044a578063e8628feb14610476578063f1d1c097146104ff578063f851a4401461051257600080fd5b806393b94c88146102bb5780639f13f25f146102db578063ac7c4e39146103b7578063bfa06644146103ca57600080fd5b8063606bcff9116100e9578063606bcff9146101cb57806375829def146101d45780637e69e912146101e95780637f896c0b146102955780638cafe32f146102a857600080fd5b80631e8bf8d41461011b57806320c864171461018d5780633c0a6a6e146101bb57806359f97801146101c3575b600080fd5b61012e610129366004611249565b61053d565b6040516101849190600060a0820190508251825263ffffffff602084015116602083015263ffffffff604084015116604083015261ffff606084015116606083015261ffff608084015116608083015292915050565b60405180910390f35b6101ad61019b366004611278565b60066020526000908152604090205481565b604051908152602001610184565b61012e610619565b6101ad610715565b6101ad60015481565b6101e76101e23660046112b1565b61072a565b005b61024c6101f7366004611249565b600360205260009081526040902080546001909101546001600160a01b0381169063ffffffff600160a01b8204169060ff600160c01b8204811691600160c81b81049091169061ffff600160d01b9091041686565b604080519687526001600160a01b03909516602087015263ffffffff9093169385019390935260ff9081166060850152909116608083015261ffff1660a082015260c001610184565b6101ad6102a33660046112cc565b6107c4565b6101ad6102b63660046112f6565b6107f5565b6102ce6102c93660046112b1565b610a2e565b604051610184919061133d565b60066020527f54cdd369e4e8a8515e52ca72ec816c2101831ad1f18bf44102ed171459c9b4f8547f3e5fec24aa4dc4e5aee2e025e51e1392c72a2500577559fae9665c6d52bd6a31547f8819ef417987f8ae7a81f42cdfb18815282fe989326fbff903d13cf0e03ace29547f75f96ab15d697e93042dc45b5c896c4b27e89bb6eaf39475c5c371cb2513f7d25460046000527fc5069e24aaadb2addc3e52e868fcf3f4f8acf5a87e24300992fd4540c2a87eed54604080519586526020860194909452928401919091526060830152608082015260a001610184565b6102ce6103c5366004611380565b610a9a565b6101ad60025481565b6103e66103e1366004611249565b610c1b565b6040516101849190600060c0820190508251825260018060a01b03602084015116602083015263ffffffff604084015116604083015260ff606084015116606083015260ff608084015116608083015261ffff60a08401511660a083015292915050565b610452610d12565b6040805193845260208401929092526001600160a01b031690820152606001610184565b6104c7610484366004611249565b6004602052600090815260409020805460019091015463ffffffff8082169164010000000081049091169061ffff600160401b8204811691600160501b90041685565b6040805195865263ffffffff9485166020870152939092169284019290925261ffff918216606084015216608082015260a001610184565b6101e761050d3660046113a2565b610d4d565b600054610525906001600160a01b031681565b6040516001600160a01b039091168152602001610184565b6040805160a08101825260008082526020820181905291810182905260608101829052608081019190915260025482106105b15760405162461bcd60e51b815260206004820152601060248201526f125b9d985b1a5908189b1bd8dac8125160821b60448201526064015b60405180910390fd5b50600090815260046020908152604091829020825160a0810184528154815260019091015463ffffffff8082169383019390935264010000000081049092169281019290925261ffff600160401b820481166060840152600160501b90910416608082015290565b6040805160a0810182526000808252602082018190529181018290526060810182905260808101919091526001600254116106965760405162461bcd60e51b815260206004820152601860248201527f4e6f20626c6f636b2073756d6d6172696573206578697374000000000000000060448201526064016105a8565b6004600060016002546106a991906113e4565b81526020808201929092526040908101600020815160a0810183528154815260019091015463ffffffff8082169483019490945264010000000081049093169181019190915261ffff600160401b830481166060830152600160501b9092049091166080820152919050565b60006001805461072591906113e4565b905090565b6000546001600160a01b031633146107545760405162461bcd60e51b81526004016105a8906113f7565b6001600160a01b0381166107a25760405162461bcd60e51b8152602060048201526015602482015274496e76616c69642061646d696e206164647265737360581b60448201526064016105a8565b600080546001600160a01b0319166001600160a01b0392909216919091179055565b600560205281600052604060002081815481106107e057600080fd5b90600052602060002001600091509150505481565b6000836108445760405162461bcd60e51b815260206004820152601960248201527f4950465320686173682063616e6e6f7420626520656d7074790000000000000060448201526064016105a8565b600260ff841611156108915760405162461bcd60e51b8152602060048201526016602482015275125b9d985b1a59081c1c9a5bdc9a5d1e481b195d995b60521b60448201526064016105a8565b600180546040805160c0810182528781523360208083018281524263ffffffff90811685870190815260ff8c81166060880190815260006080890181815261ffff8f811660a08c019081528d845260038a528c84209b518c5597519a8e0180549651945192519851909116600160d01b0261ffff60d01b19988616600160c81b0260ff60c81b1993909616600160c01b029290921661ffff60c01b1994909716600160a01b026001600160c01b03199096166001600160a01b03909b169a909a1794909417919091169390931717929092169190911790935590825260058152918120805494850181558152818120909301829055828052600690527f54cdd369e4e8a8515e52ca72ec816c2101831ad1f18bf44102ed171459c9b4f8805491926109bb83611439565b90915550506040805186815260ff8616602082015261ffff8516818301529051339183917f3b8a2ff75f08a07a33f81b61cd1f7de76fc242177f622149363dae30b2aecf3e9181900360600190a360018054906000610a1983611439565b9190505550610a26610f7c565b949350505050565b6001600160a01b038116600090815260056020908152604091829020805483518184028101840190945280845260609392830182828015610a8e57602002820191906000526020600020905b815481526020019060010190808311610a7a575b50505050509050919050565b60606001548310610aed5760405162461bcd60e51b815260206004820152601960248201527f537461727420696e646578206f7574206f6620626f756e64730000000000000060448201526064016105a8565b600154821115610b3f5760405162461bcd60e51b815260206004820152601760248201527f456e6420696e646578206f7574206f6620626f756e647300000000000000000060448201526064016105a8565b818310610b7e5760405162461bcd60e51b815260206004820152600d60248201526c496e76616c69642072616e676560981b60448201526064016105a8565b6000610b8a84846113e4565b67ffffffffffffffff811115610ba257610ba2611452565b604051908082528060200260200182016040528015610bcb578160200160208202803683370190505b509050835b83811015610c1157610be3816001611468565b82610bee87846113e4565b81518110610bfe57610bfe61147b565b6020908102919091010152600101610bd0565b5090505b92915050565b6040805160c081018252600080825260208201819052918101829052606081018290526080810182905260a0810191909152816001548110610c965760405162461bcd60e51b8152602060048201526014602482015273125b9d985b1a590818dbdb5c1b185a5b9d08125160621b60448201526064016105a8565b5050600090815260036020908152604091829020825160c081018452815481526001909101546001600160a01b03811692820192909252600160a01b820463ffffffff1692810192909252600160c01b810460ff9081166060840152600160c81b8204166080830152600160d01b900461ffff1660a082015290565b600080600060018054610d2591906113e4565b6001600254610d3491906113e4565b60005491959094506001600160a01b0390911692509050565b6000546001600160a01b03163314610d775760405162461bcd60e51b81526004016105a8906113f7565b816001548110610dc05760405162461bcd60e51b8152602060048201526014602482015273125b9d985b1a590818dbdb5c1b185a5b9d08125160621b60448201526064016105a8565b600460ff83161115610e055760405162461bcd60e51b815260206004820152600e60248201526d496e76616c69642073746174757360901b60448201526064016105a8565b6000838152600360205260409020600181015460ff600160c81b90910481169084168103610e6a5760405162461bcd60e51b815260206004820152601260248201527114dd185d1d5cc8185b1c9958591e481cd95d60721b60448201526064016105a8565b610e748185611108565b610ec05760405162461bcd60e51b815260206004820152601960248201527f496e76616c696420737461747573207472616e736974696f6e0000000000000060448201526064016105a8565b60ff81166000908152600660205260408120805491610ede83611491565b909155505060ff84166000908152600660205260408120805491610f0183611439565b909155505060018201805460ff868116600160c81b810260ff60c81b19909316929092179092556040805192841683526020830191909152339082015285907f876b27c390964649365f39e05b526395171d9e39b50c742a7ab350cd24437f059060600160405180910390a2610f75610f7c565b5050505050565b6000610f86611178565b90506040518060a001604052808281526020014263ffffffff16815260200160018054610fb391906113e4565b63ffffffff90811682527f54cdd369e4e8a8515e52ca72ec816c2101831ad1f18bf44102ed171459c9b4f85461ffff9081166020808501919091527f8819ef417987f8ae7a81f42cdfb18815282fe989326fbff903d13cf0e03ace29548216604094850152600280546000908152600483528590208651815591860151600192830180549688015160608901516080909901518616600160501b0261ffff60501b1999909616600160401b02989098166bffffffff0000000000000000199887166401000000000267ffffffffffffffff199098169290961691909117959095179590951692909217179091559054815490917f90602a50d65d11785fc7b570e8d8128ba6cc63c2090ce011cd355f4b076c07b19184916110d3916113e4565b6040805192835263ffffffff90911660208301520160405180910390a26002805490600061110083611439565b919050555050565b600060ff83166111365760015b60ff168260ff16148061112f575060035b60ff168260ff16145b9050610c15565b60001960ff841601611149576002611115565b60011960ff84160161115c576004611126565b60021960ff84160161116f576004611126565b50600092915050565b6000606060015b60015481101561123b57600081815260036020908152604091829020825160c08101845281548082526001909201546001600160a01b038116828501819052600160a01b820463ffffffff16838701819052600160c01b830460ff90811660608601819052600160c81b850490911660808601819052600160d01b90940461ffff1660a0860181905297519497611220978b979694959394929392016114a8565b60408051601f1981840301815291905292505060010161117f565b508051602090910120919050565b60006020828403121561125b57600080fd5b5035919050565b803560ff8116811461127357600080fd5b919050565b60006020828403121561128a57600080fd5b61129382611262565b9392505050565b80356001600160a01b038116811461127357600080fd5b6000602082840312156112c357600080fd5b6112938261129a565b600080604083850312156112df57600080fd5b6112e88361129a565b946020939093013593505050565b60008060006060848603121561130b57600080fd5b8335925061131b60208501611262565b9150604084013561ffff8116811461133257600080fd5b809150509250925092565b602080825282518282018190526000918401906040840190835b81811015611375578351835260209384019390920191600101611357565b509095945050505050565b6000806040838503121561139357600080fd5b50508035926020909101359150565b600080604083850312156113b557600080fd5b823591506113c560208401611262565b90509250929050565b634e487b7160e01b600052601160045260246000fd5b81810381811115610c1557610c156113ce565b60208082526022908201527f4f6e6c792061646d696e2063616e20706572666f726d2074686973206163746960408201526137b760f11b606082015260800190565b60006001820161144b5761144b6113ce565b5060010190565b634e487b7160e01b600052604160045260246000fd5b80820180821115610c1557610c156113ce565b634e487b7160e01b600052603260045260246000fd5b6000816114a0576114a06113ce565b506000190190565b6000885160005b818110156114c9576020818c0181015185830152016114af565b508201888152606088901b6bffffffffffffffffffffffff1916602082015260e087901b6001600160e01b0319166034820152611515603882018760f81b6001600160f81b0319169052565b61152e603982018660f81b6001600160f81b0319169052565b611547603a82018560f01b6001600160f01b0319169052565b603c01999850505050505050505056fea264697066735822122003c4780236a2ccb63579e86a9c96039a179b725953cbd8cbdf330414f5202c5a64736f6c634300081c0033",
  "contractAddress": "0x5FbDB2315678afecb367f032d93F642f64180aa3",
  "deploymentInfo": {
    "contractAddress": "0x5FbDB2315678afecb367f032d93F642f64180aa3",
    "deployedAt": "2025-07-31T18:29:52.231Z",
    "network": "ganache",
    "deployer": "0xf39Fd6e51aad88F6F4ce6aB8827279cffFb92266",
    "blockNumber": 1
  }
}